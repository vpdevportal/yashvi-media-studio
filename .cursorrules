# Yashvi Media Studio - Cursor Rules

## UI/UX Design Preferences

- **Target Platform**: Web and Desktop (macOS) - NOT mobile-first
- **Layout Style**: Dashboard-style layouts with sidebars, multi-column designs
- **Navigation**: Use sidebar navigation, top bars, and breadcrumbs instead of bottom navigation or mobile patterns
- **Screen Optimization**: Design for larger screens (1200px+ width)
- **Interactions**: Include keyboard shortcuts (Ctrl+N, Ctrl+R, etc.) for power users
- **Components**: Prefer desktop patterns like hover states, tooltips, context menus, and modal dialogs

## Project Vision & Ultimate Goal

**End-to-End Animation Video Generation Pipeline:**

The ultimate plan for this project is to convert a story to an animation full video. The workflow is:

1. **Story Input**: User manually inputs the story
2. **AI Storyboard Generation**: Use AI to generate storyboard from the story
3. **Scene Image Generation**: For each scene, generate an image using AI
4. **Audio Generation**: Use AI tools to generate audio components:
   - **Dialogues/Voice Overs**: Generate character dialogues and voice-overs for each scene
   - **Background Music**: Generate or select appropriate background music for scenes
5. **Scene Video Generation**: Give each generated image to video generation AI tool to create short video of that scene
6. **Video Assembly**: Join these shorts together with synchronized audio (dialogues, voice-overs, and background music) to make full video

**Technical Considerations:**
- All AI integrations (storyboard generation, image generation, audio generation, video generation) should be designed as modular services
- Consider rate limits, API costs, and processing time for AI operations
- Implement proper error handling and retry logic for AI API calls
- Store intermediate artifacts (storyboards, images, audio files, scene videos) for review and regeneration
- Support manual review and editing at each stage before proceeding to the next
- Audio synchronization: Ensure proper timing and synchronization of dialogues/voice-overs with video scenes
- Audio mixing: Handle mixing of multiple audio tracks (dialogues, voice-overs, background music) with proper volume levels

## Tech Stack

- **Frontend**: Flutter (macOS/Web)
- **Backend**: Python FastAPI
- **Database**: PostgreSQL (always, never SQLite)

## Code Style

- Use Material 3 design system
- Follow Flutter best practices with proper widget separation
- Keep theme colors in `app_colors.dart`
- Use gradient accents matching the purple/teal theme

## Project Structure

```
yashvi-media-studio/
├── apps/
│   ├── frontend/           # Flutter frontend (macOS, Web)
│   └── backend/            # FastAPI backend
├── packages/               # Shared packages (if needed)
├── docs/                   # Documentation
├── turbo.json              # Turborepo configuration
└── package.json            # Root package.json for Turborepo
```

## Backend Architecture

Layered architecture pattern:
- **API (endpoints)**: HTTP request handling, routing, input validation
- **Services**: Business logic, orchestration
- **Repositories**: Data access, database operations
- **Models**: SQLAlchemy ORM entity definitions
- **Schemas**: Pydantic DTOs for API request/response

## Frontend Architecture

Feature-based structure:
- `lib/core/` - Theme, models, services, utilities
- `lib/features/` - Feature modules (dashboard, project, etc.)
- Each feature has: `presentation/pages/`, `presentation/widgets/`

## Development Commands

```bash
# Run all apps
pnpm dev

# Flutter
cd apps/frontend && flutter run -d macos

# Backend
cd apps/backend && uvicorn app.main:app --reload
```

## API Documentation

- Swagger UI: `http://localhost:8000/docs`
- ReDoc: `http://localhost:8000/redoc`
